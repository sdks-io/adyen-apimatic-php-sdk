<?php

declare(strict_types=1);

/*
 * AdyenApIsLib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

namespace AdyenApIsLib\Models;

use AdyenApIsLib\ApiHelper;
use AdyenApIsLib\Utils\DateTimeHelper;
use stdClass;

/**
 * The recurring settings for the payment. Use this property when you want to enable [recurring
 * payments](https://docs.adyen.com/classic-integration/recurring-payments).
 */
class Recurring2 implements \JsonSerializable
{
    /**
     * @var string|null
     */
    private $contract;

    /**
     * @var string|null
     */
    private $recurringDetailName;

    /**
     * @var \DateTime|null
     */
    private $recurringExpiry;

    /**
     * @var string|null
     */
    private $recurringFrequency;

    /**
     * @var string|null
     */
    private $tokenService;

    /**
     * Returns Contract.
     * The type of recurring contract to be used.
     * Possible values:
     * * `ONECLICK` – Payment details can be used to initiate a one-click payment, where the shopper enters
     * the [card security code (CVC/CVV)](https://docs.adyen.com/payments-fundamentals/payment-
     * glossary#card-security-code-cvc-cvv-cid).
     * * `RECURRING` – Payment details can be used without the card security code to initiate [card-not-
     * present transactions](https://docs.adyen.com/payments-fundamentals/payment-glossary#card-not-present-
     * cnp).
     * * `ONECLICK,RECURRING` – Payment details can be used regardless of whether the shopper is on your
     * site or not.
     * * `PAYOUT` – Payment details can be used to [make a payout](https://docs.adyen.com/online-
     * payments/online-payouts).
     * * `EXTERNAL` - Use this when you store payment details and send the raw card number or network token
     * directly in your API request.
     */
    public function getContract(): ?string
    {
        return $this->contract;
    }

    /**
     * Sets Contract.
     * The type of recurring contract to be used.
     * Possible values:
     * * `ONECLICK` – Payment details can be used to initiate a one-click payment, where the shopper enters
     * the [card security code (CVC/CVV)](https://docs.adyen.com/payments-fundamentals/payment-
     * glossary#card-security-code-cvc-cvv-cid).
     * * `RECURRING` – Payment details can be used without the card security code to initiate [card-not-
     * present transactions](https://docs.adyen.com/payments-fundamentals/payment-glossary#card-not-present-
     * cnp).
     * * `ONECLICK,RECURRING` – Payment details can be used regardless of whether the shopper is on your
     * site or not.
     * * `PAYOUT` – Payment details can be used to [make a payout](https://docs.adyen.com/online-
     * payments/online-payouts).
     * * `EXTERNAL` - Use this when you store payment details and send the raw card number or network token
     * directly in your API request.
     *
     * @maps contract
     * @factory \AdyenApIsLib\Models\Contract::checkValue
     */
    public function setContract(?string $contract): void
    {
        $this->contract = $contract;
    }

    /**
     * Returns Recurring Detail Name.
     * A descriptive name for this detail.
     */
    public function getRecurringDetailName(): ?string
    {
        return $this->recurringDetailName;
    }

    /**
     * Sets Recurring Detail Name.
     * A descriptive name for this detail.
     *
     * @maps recurringDetailName
     */
    public function setRecurringDetailName(?string $recurringDetailName): void
    {
        $this->recurringDetailName = $recurringDetailName;
    }

    /**
     * Returns Recurring Expiry.
     * Date after which no further authorisations shall be performed. Only for 3D Secure 2.
     */
    public function getRecurringExpiry(): ?\DateTime
    {
        return $this->recurringExpiry;
    }

    /**
     * Sets Recurring Expiry.
     * Date after which no further authorisations shall be performed. Only for 3D Secure 2.
     *
     * @maps recurringExpiry
     * @factory \AdyenApIsLib\Utils\DateTimeHelper::fromRfc3339DateTime
     */
    public function setRecurringExpiry(?\DateTime $recurringExpiry): void
    {
        $this->recurringExpiry = $recurringExpiry;
    }

    /**
     * Returns Recurring Frequency.
     * Minimum number of days between authorisations. Only for 3D Secure 2.
     */
    public function getRecurringFrequency(): ?string
    {
        return $this->recurringFrequency;
    }

    /**
     * Sets Recurring Frequency.
     * Minimum number of days between authorisations. Only for 3D Secure 2.
     *
     * @maps recurringFrequency
     */
    public function setRecurringFrequency(?string $recurringFrequency): void
    {
        $this->recurringFrequency = $recurringFrequency;
    }

    /**
     * Returns Token Service.
     * The name of the token service.
     */
    public function getTokenService(): ?string
    {
        return $this->tokenService;
    }

    /**
     * Sets Token Service.
     * The name of the token service.
     *
     * @maps tokenService
     * @factory \AdyenApIsLib\Models\TokenService::checkValue
     */
    public function setTokenService(?string $tokenService): void
    {
        $this->tokenService = $tokenService;
    }

    /**
     * Converts the Recurring2 object to a human-readable string representation.
     *
     * @return string The string representation of the Recurring2 object.
     */
    public function __toString(): string
    {
        return ApiHelper::stringify(
            'Recurring2',
            [
                'contract' => $this->contract,
                'recurringDetailName' => $this->recurringDetailName,
                'recurringExpiry' => $this->recurringExpiry,
                'recurringFrequency' => $this->recurringFrequency,
                'tokenService' => $this->tokenService
            ]
        );
    }

    /**
     * Encode this object to JSON
     *
     * @param bool $asArrayWhenEmpty Whether to serialize this model as an array whenever no fields
     *        are set. (default: false)
     *
     * @return array|stdClass
     */
    #[\ReturnTypeWillChange] // @phan-suppress-current-line PhanUndeclaredClassAttribute for (php < 8.1)
    public function jsonSerialize(bool $asArrayWhenEmpty = false)
    {
        $json = [];
        if (isset($this->contract)) {
            $json['contract']            = Contract::checkValue($this->contract);
        }
        if (isset($this->recurringDetailName)) {
            $json['recurringDetailName'] = $this->recurringDetailName;
        }
        if (isset($this->recurringExpiry)) {
            $json['recurringExpiry']     = DateTimeHelper::toRfc3339DateTime($this->recurringExpiry);
        }
        if (isset($this->recurringFrequency)) {
            $json['recurringFrequency']  = $this->recurringFrequency;
        }
        if (isset($this->tokenService)) {
            $json['tokenService']        = TokenService::checkValue($this->tokenService);
        }

        return (!$asArrayWhenEmpty && empty($json)) ? new stdClass() : $json;
    }
}
